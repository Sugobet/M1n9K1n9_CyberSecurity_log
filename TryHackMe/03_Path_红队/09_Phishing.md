# Phishing

了解什么是网络钓鱼以及为什么它对红队参与很重要。您将设置网络钓鱼基础设施，编写令人信服的网络钓鱼电子邮件，并尝试诱骗目标在真实模拟中打开您的电子邮件。

---

## 简介

在了解什么是网络钓鱼之前，您需要了解术语“社会工程”。社会工程是利用人性的弱点对人们进行心理操纵，以执行或泄露信息。这些“弱点”可以是好奇心、嫉妒、贪婪甚至善良以及帮助某人的意愿。网络钓鱼是通过电子邮件传递的社会工程来源，诱骗某人泄露个人信息、凭据，甚至在他们的计算机上执行恶意代码。

这些电子邮件通常看起来来自受信任的来源，无论是个人还是企业。它们包括试图引诱或诱骗人们下载软件、打开附件或点击虚假网站链接的内容。

您会遇到一个术语，红队将参与的网络钓鱼活动类型是鱼叉式网络钓鱼，就像投掷物理长矛一样;您有一个目标要瞄准，鱼叉式网络钓鱼也是如此，因为您针对的是个人、企业或组织，而不仅仅是任何人。对于红队参与来说，这是一种有效的网络钓鱼形式，因为它们是针对目标定制的，这使得垃圾邮件过滤器、防病毒和防火墙等技术难以检测到它们。

红队可以签约专门进行网络钓鱼评估，以查看企业是否容易受到此类攻击，或者也可以成为更广泛评估的一部分并用于访问计算机系统或服务。

以下示例方案显示了如何诱骗公司员工泄露其凭据。

1) 攻击者定位目标业务的物理位置。

2) 然后，攻击者寻找附近的食品供应商，并发现了一家名为Ultimate Cookies的公司！

3) 攻击者注册域名终极cookie.thm

1) 然后，攻击者向他们的目标制作一封电子邮件，用 如果他们注册网站，则提供一些免费cookie。 因为受害者听说过这家当地公司，所以他们更有可能 信任它。

5) 然后受害者点击链接 发送到攻击者创建的虚假网站的电子邮件并注册 在线。为简单起见，受害者重复使用相同的密码 他们所有的在线帐户。

6) 攻击者现在有 受害者的电子邮件地址和密码，并可以登录受害者的 公司电子邮件帐户。攻击者现在可以访问私有 公司信息，也有地方发起另一个网络钓鱼 攻击其他员工。

---

## 编写令人信服的网络钓鱼电子邮件

### 发件人地址：

理想情况下，发件人的地址将来自欺骗重要品牌、已知联系人或同事的域名。

要找到受害者与之互动的品牌或人员，您可以采用 OSINT（开源情报）策略。例如：

- 观察他们的社交媒体帐户，了解与他们交谈的任何品牌或朋友。
- 在谷歌上搜索受害者的姓名和粗略位置以获取任何评论 受害者可能已经离开了当地企业或品牌。
- 查看受害者的商业网站以查找供应商。

### 主题：

您应该将主题设置为非常紧急，令人担忧或激起受害者好奇心的事情，这样他们就不会忽视它并迅速采取行动。

这方面的示例可以是：

1) 您的帐户已被盗用。
2) 您的包裹已发货/发货。
3) 员工工资单信息（请勿转发！
4) 您的照片已发布。

### 内容：

如果冒充品牌或供应商，研究他们的标准电子邮件模板和品牌（样式、徽标图像、签名等）并使您的内容看起来与他们的内容相同，因此受害者不会期望任何事情。如果冒充联系人或同事，与他们联系可能是有益的;首先，他们的模板中可能有一些品牌，有一个特定的电子邮件签名，甚至是一些小的东西，比如他们如何称呼自己，

如果您设置了一个欺骗网站来收集数据或分发恶意软件，则应使用锚文本伪装指向此链接的链接，并将其更改为显示“单击此处”的文本，或将其更改为反映您正在欺骗的业务的正确链接，例如：

```html
<a href="http://spoofsite.thm">Click Here</a>

<a href="http://spoofsite.thm">https://onlinebank.thm</a>
```
---

## Gophish

[GoPhish](https://getgophish.com/)是一个基于Web的框架，使设置网络钓鱼活动更加简单。GoPhish允许您存储用于发送电子邮件的SMTP服务器设置，具有基于Web的工具，用于使用简单的WYSIWYG（所见即所得）编辑器创建电子邮件模板。您还可以安排发送电子邮件的时间，并拥有一个分析仪表板，显示已发送、打开或单击的电子邮件数量。

**gophish的使用不在此演示**

---

## 域名

选择正确的网络钓鱼域来发起攻击对于确保您对目标具有心理优势至关重要。红队参与可以使用以下一些方法来选择完美的域名。

### 过期域名：

虽然不是必需的，但购买具有一定历史的域名可能会在垃圾邮件过滤器方面为您的域名提供更好的评分。与具有某些历史记录的域名相比，垃圾邮件过滤器倾向于不信任全新的域名。

### 域名仿冒：

域名仿冒是指注册的域看起来与您尝试模拟的目标域非常相似。以下是一些常用方法：

- 拼写错误：goggle.com vs google.com
- 附加期限：go.ogle.com VS google.com
- 字母的切换数字：g00gle.com VS google.com
- 措辞：googles.com 与 google.com
- 附加词：googleresults.com vs google.com

这些变化可能看起来不切实际，但一目了然，人脑倾向于填补空白，看看它想看到什么，即正确的域名。

### 顶级域名替代品：

TLD（顶级域名）是域名的.com.net .co.uk .org .gov e.t.c的一部分，现在有100种TLD的变体。选择域的常见技巧是使用相同的名称但具有不同的 TLD。例如，注册 tryhackme.co.uk 以模拟 tryhackme.com。

[TryHackMe](https://tryhackme.com/room/phishingyl)
